<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mégaforbiaie - FloraBank</title>
  <link rel="stylesheet" href="../styles/biomes.css">
</head>

<body>

  <header>
    <a href="index.html"><img src="../images/florabank.png" alt="Logo FloraBank" /></a>
    <nav>
      <a href="../famille.html">Familles</a> |
      <a href="../biomes.html">Biomes</a>
    </nav>
  </header>

  <h1>Mégaforbiaie</h1>

  <div class="biome-description">
    <p>
      La mégaforbiaie est une forêt humide où se développe une flore très riche et spécifique, favorisée par les sols
      souvent inondés.
    </p>
  </div>

  <section class="plants-grid">
    <div class="plant-card" data-plant="Aulne">
      <img src="../images/aulne.jpg" alt="Aulne" />
      <div class="overlay">
        <h3>Aulne</h3>
        <p>En symbiose rhyzobienne avec un actinomycète</p>
      </div>
    </div>

    <div class="plant-card" data-plant="AngeliqueDesBois">
      <img src="../images/angelica.jpg" alt="Angélique des Bois" />
      <div class="overlay">
        <h3>Angélique des Bois</h3>
        <p>Ses ombelles comptent jusqu'à 200 fleurs !</p>
      </div>
    </div>

    <div class="plant-card" data-plant="SauleCendre">
      <img src="../images/salixcinerea.jpg" alt="Saule cendré" />
      <div class="overlay">
        <h3>Saule cendré</h3>
        <p>Possède des feuilles gris-vertes au dessous poilu</p>
      </div>
    </div>

    <div class="plant-card" data-plant="GrandeOrtie">
      <img src="../images/urtica.jpg" alt="Grande Ortie" />
      <div class="overlay">
        <h3>Grande Ortie</h3>
        <p>Libère de l'acide formique via ses poils urticants !</p>
      </div>
    </div>
  </section>

  <!-- Modal -->
  <div id="modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle"
    aria-describedby="modalDesc">
    <div class="modal-content">
      <span class="close-btn" aria-label="Fermer la fenêtre">&times;</span>
      <h2 id="modalTitle">Titre de la plante</h2>
      <p id="modalDesc">Description de la plante</p>
      <p><strong>Famille :</strong> <span id="modalFamily"></span></p>
      <p><strong>Habitat :</strong> <span id="modalHabitat"></span></p>
    </div>
  </div>

  <script>
    const plantsInfo = {
      Aulne: {
        title: "Aulne (Alnus)",
        description: "Cet arbre est en symbiose avec un actinomycète, une bactérie fixant l'azote atmosphérique. L'ammoniac produit enrichit le sol en azote.",
        family: "Bétulaceae",
        habitat: "Berges, forêts humides, zones inondables"
      },
      AngeliqueDesBois: {
        title: "Angélique des bois (Angelica sylvestris)",
        description: "L'angélique des bois possède des ombelles comptant jusqu'à 200 fleurs. Ses fruits ont deux stigmates en forme de filaments blancs.",
        family: "Apiaceae",
        habitat: "Prairie humide et lisière fraîche."
      },
      SauleCendre: {
        title: "Saule cendré (Salix cinerea)",
        description: "En Grèce Antique, les décoctions d'écorce de saule étaient utilisées contre la fièvre, grâce à un précurseur de l'acide salicylique, principe actif de l'aspirine.",
        family: "Salicaceae",
        habitat: "Marais et bord d'étangs"
      },
      GrandeOrtie: {
        title: "Grande Ortie (Urtica dioica)",
        description: "Faire macérer cette plante permet de produire du purin. Elle libère de l'acide formique via ses poils urticants.",
        family: "Urticaceae",
        habitat: "Sols riches en azote, lisières, friches et bords de chemins"
      }
    };

    const modal = document.getElementById("modal");
    const modalTitle = document.getElementById("modalTitle");
    const modalDesc = document.getElementById("modalDesc");
    const modalFamily = document.getElementById("modalFamily");
    const modalHabitat = document.getElementById("modalHabitat");
    const closeBtn = document.querySelector(".close-btn");

    function openModal(plantKey) {
      const plant = plantsInfo[plantKey];
      if (!plant) return;
      modalTitle.textContent = plant.title;
      modalDesc.textContent = plant.description;
      modalFamily.textContent = plant.family;
      modalHabitat.textContent = plant.habitat;
      modal.style.display = "flex";
      document.body.style.overflow = "hidden";
    }

    function closeModal() {
      modal.style.display = "none";
      document.body.style.overflow = "";
    }

    document.querySelectorAll(".plant-card").forEach(card => {
      card.addEventListener("click", () => {
        const plantKey = card.getAttribute("data-plant");
        openModal(plantKey);
      });
    });

    closeBtn.addEventListener("click", closeModal);

    modal.addEventListener("click", (e) => {
      if (e.target === modal) {
        closeModal();
      }
    });

    window.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && modal.style.display === "flex") {
        closeModal();
      }
    });
  </script>

</body>

</html>